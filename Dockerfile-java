FROM node:21.7.1-alpine3.19

WORKDIR /opt/bin

#Add Packages
RUN apk add --no-cache bash sed grep curl coreutils ca-certificates && \
    apk --no-cache add curl-dev wget openjdk8 maven gradle && apk --no-cache add openjdk11 openjdk17

WORKDIR /cli
ADD ./package.json ./package-lock.json ./.npmrc ./
ADD ./scripts ./scripts
ADD ./commands ./commands
RUN npm install --production

ENTRYPOINT [ "npm", "start" ]

